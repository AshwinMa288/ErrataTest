---
title: "[MS-WINERRATA]: Service Control Manager Remote Protocol"
description: "This topic lists the Errata found in [MS-SCMR]    since it was last published. Since this topic is updated frequently, we    recommend that you"
---

# [MS-SCMR]: Service Control Manager Remote Protocol

<p align="right"><a href="https://msdn.microsoft.com/en-us/library/8f479518-dba5-445c-849b-940d7c6bcf5a">msdn link</a></p>
<p> </p>

<table>
 <thead>
  <tr>
   <th>
   <p>This topic lists the Errata found in [MS-SCMR]
   since it was last published. Since this topic is updated frequently, we
   recommend that you subscribe to these RSS or Atom feeds to receive update
   notifications.</p>
   <p>Errata are subject to the same terms as the
   Open Specifications documentation referenced.</p>
   </th>
   <th>
   <p><img id="Picture 321" src="MS-WINERRATA_files/image002.png"><span><a href="http://blogs.msdn.com/b/protocol_content_errata/rss.aspx">RSS</a></span>
   </p>
   <p><img id="Picture 319" src="MS-WINERRATA_files/image002.png"><span><a href="http://blogs.msdn.com/b/protocol_content_errata/atom.aspx">Atom</a></span>
   </p>
   <p> </p>
   </th>
  </tr>
 </thead>
</table>

<p>To view a PDF file of the errata for the previous versions
of this document, see the following ERRATA Archives:</p>

<p>September 12, 2018 - <span><a href="https://winprotocoldoc.blob.core.windows.net/productionwindowsarchives/MS-WINERRATA/%5bMS-WINERRATA%5d-180912.pdf">Download</a></span></p>

<p>Errata below are for Protocol Document Version <span><a href="https://docs.microsoft.com/en-us/openspecs/windows_protocols/ms-scmr/705b624a-13de-43cc-b8a2-99573da3635f">V29.0
– 2019/03/13</a></span>.</p>

<table><thead>
  <tr>
   <th>
   <p>Errata Published*</p>
   </th>
   <th>
   <p>Description</p>
   </th>
  </tr>
 </thead><tbody><tr>
  <td>
  <p>2019/08/05</p>
  </td>
  <td>
  <p>In Section 2.2.23, SC_RPC_NOTIFY_PARAMS, the structure
  name mentioned in the description for pStatusChangeParams has been changed
  from PSERVICE_NOTIFY_STATUS_CHANGE_PARAMS_2 to
  SERVICE_NOTIFY_STATUS_CHANGE_PARAMS_2. </p>
  <p> </p>
  <p>Changed from:</p>
  <p> </p>
  <p>pStatusChangeParams:  A
  PSERVICE_NOTIFY_STATUS_CHANGE_PARAMS_2 (section 2.2.44) structure that
  contains the service status notification information.</p>
  <p> </p>
  <p>Changed to:</p>
  <p> </p>
  <p>pStatusChangeParams:  A
  SERVICE_NOTIFY_STATUS_CHANGE_PARAMS_2 (section 2.2.44) structure that
  contains the service status notification information.</p>
  <p> </p>
  <p> </p>
  <p>In Section 3.1.4.33, REnumServiceGroupW (Opnum 35), a
  parameter name has been changed from dwServiceParameter to dwCurrentState. </p>
  <p> </p>
  <p>Changed from:</p>
  <p> …</p>
  <p> </p>
  <p>In response to this request from the client, for a
  successful operation the server MUST determine the list of service records in
  the SCM database identified by the hSCManager parameter with a ServiceGroup
  value matching the pszGroupName parameter, determine that their
  ServiceStatus.dwCurrentState is equal to the state specified by
  dwServiceParameter, and determine that their Type value is equal to the
  dwServiceType parameter of the client request. The server MUST return this
  list by setting the service name and state of each service in this list in
  the array of ENUM_SERVICE_STATUSW (section 2.2.11) structures pointed to by
  the lpBuffer parameter and MUST set number of services returned in the
  lpServicesReturned parameter. </p>
  <p> </p>
  <p>...</p>
  <p> </p>
  <p>Changed to:</p>
  <p>...</p>
  <p> </p>
  <p>In response to this request from the client, for a
  successful operation the server MUST determine the list of service records in
  the SCM database identified by the hSCManager parameter with a ServiceGroup
  value matching the pszGroupName parameter, determine that their
  ServiceStatus.dwCurrentState is equal to the state specified by
  dwCurrentState, and determine that their Type value is equal to the
  dwServiceType parameter of the client request. The server MUST return this
  list by setting the service name and state of each service in this list in
  the array of ENUM_SERVICE_STATUSW (section 2.2.11) structures pointed to by
  the lpBuffer parameter and MUST set number of services returned in the
  lpServicesReturned parameter. </p>
  <p> </p>
  <p>...</p>
  <p> </p>
  <p>In Section 3.1.4.37, RQueryServiceConfig2W (Opnum 39),
  in the description for hService, a change was made to the name of the
  parameter mentioned in the description for the SERVICE_CONFIG_PREFERRED_NODE
  value. </p>
  <p> </p>
  <p>Changed from:</p>
  <p> …</p>
  <p> </p>
  <table>
   <thead>
    <tr>
     <th>
     <p>SERVICE_CONFIG_PREFERRED_NODE <br><br></p>
     <p>0x00000009&lt;70&gt; </p>
     </th>
     <th>
     <p>The lpInfo parameter is a pointer to a
     SERVICE_PREFERRED_NODE_INFO structure.&lt;71&gt;</p>
     </th>
    </tr>
   </thead>
  </table>
  <p> </p>
  <p>...</p>
  <p> </p>
  <p>Changed to:</p>
  <p>...</p>
  <p> </p>
  <table>
   <thead>
    <tr>
     <th>
     <p>SERVICE_CONFIG_PREFERRED_NODE <br><br></p>
     <p>0x00000009&lt;70&gt; </p>
     </th>
     <th>
     <p>The lpBuffer parameter is a pointer to a
     SERVICE_PREFERRED_NODE_INFO structure.&lt;71&gt;</p>
     </th>
    </tr>
   </thead>
  </table>
  <p> </p>
  <p>...</p>
  <p> </p>
  </td>
 </tr><tr>
  <td>
  <p>2019/08/05</p>
  </td>
  <td>
  <p>In Section 6, Appendix A: Full IDL:</p>
  <p>Several definitions to the IDL that were not
  previously included, but are necessary for implementation of the protocol,
  have been added.</p>
  <p>The namespace for the type attribute in the XML
  definition has been changed from &quot;s1&quot; to &quot;tns&quot;. </p>
  <p> </p>
  <p>Changed from:</p>
  <p>... </p>
  <p> </p>
  <dl>
<dd>
<div><pre> typedef   struct _SERVICE_TRIGGER_INFO {
       [range(0, 64)] DWORD    cTriggers;  &#8203;
       [size_is(cTriggers)]&#8203;
       PSERVICE_TRIGGER        pTriggers;  &#8203;
       PBYTE                   pReserved;  &#8203;
 }   SERVICE_TRIGGER_INFO, *PSERVICE_TRIGGER_INFO;&#8203;
         typedef ULONG SECURITY_INFORMATION, *PSECURITY_INFORMATION;&#8203;
 &#8203;
 DWORD&#8203;
 RCloseServiceHandle(&#8203;
       [in,out] LPSC_RPC_HANDLE  hSCObject&#8203;
       );&#8203;
 ...
  
 DWORD
 RCreateWowService(&#8203;
       [in]        SC_RPC_HANDLE       hSCManager,&#8203;
       [in,string,range(0, SC_MAX_NAME_LENGTH)]&#8203;
                   wchar_t *           lpServiceName,&#8203;
       [in,string,unique,range(0, SC_MAX_NAME_LENGTH)]&#8203;
                   wchar_t *           lpDisplayName,&#8203;
       [in]        DWORD               dwDesiredAccess,&#8203;
       [in]        DWORD               dwServiceType,&#8203;
       [in]        DWORD               dwStartType,&#8203;
       [in]        DWORD               dwErrorControl,&#8203;
       [in,string,range(0, SC_MAX_PATH_LENGTH)]&#8203;
                   wchar_t *           lpBinaryPathName,&#8203;
       [in,string,unique,range(0, SC_MAX_NAME_LENGTH)]&#8203;
                   wchar_t *           lpLoadOrderGroup,&#8203;
       [in,out,unique]&#8203;
                   LPDWORD             lpdwTagId,&#8203;
       [in,unique,size_is(dwDependSize)]&#8203;
                   LPBYTE              lpDependencies,&#8203;
       [in, range (0, SC_MAX_DEPEND_SIZE)]&#8203;
                   DWORD               dwDependSize,&#8203;
       [in,string,unique,range(0, SC_MAX_ACCOUNT_NAME_LENGTH)]&#8203;
                   wchar_t *           lpServiceStartName,&#8203;
       [in,unique,size_is(dwPwSize)]&#8203;
                   LPBYTE              lpPassword,&#8203;
       [in, range(0, SC_MAX_PWD_SIZE)]&#8203;
                   DWORD               dwPwSize,&#8203;
       [in]        USHORT              dwServiceWowType,&#8203;
       [out]       LPSC_RPC_HANDLE     lpServiceHandle&#8203;
       );&#8203;
</pre></div>
</dd></dl>
  <p>…</p>
  <p> </p>
  <p>Changed to: </p>
  <p>... </p>
  <p> </p>
  <dl>
<dd>
<div><pre> typedef   struct _SERVICE_TRIGGER_INFO {
       [range(0, 64)] DWORD    cTriggers;  &#8203;
       [size_is(cTriggers)]&#8203;
       PSERVICE_TRIGGER        pTriggers;  &#8203;
       PBYTE                   pReserved;  &#8203;
 }   SERVICE_TRIGGER_INFO, *PSERVICE_TRIGGER_INFO;&#8203;
         typedef ULONG SECURITY_INFORMATION, *PSECURITY_INFORMATION;&#8203;
 &#8203;
       typedef struct _ENUM_SERVICE_STATUSA {&#8203;
           LPSTR             lpServiceName;&#8203;
           LPSTR             lpDisplayName;&#8203;
           SERVICE_STATUS    ServiceStatus;&#8203;
       } ENUM_SERVICE_STATUSA, *LPENUM_SERVICE_STATUSA;&#8203;
 &#8203;
       typedef struct _ENUM_SERVICE_STATUSW {&#8203;
           LPWSTR            lpServiceName;&#8203;
           LPWSTR            lpDisplayName;&#8203;
           SERVICE_STATUS    ServiceStatus;&#8203;
       } ENUM_SERVICE_STATUSW, *LPENUM_SERVICE_STATUSW;&#8203;
 &#8203;
       typedef struct _ENUM_SERVICE_STATUS_PROCESSA {&#8203;
           LPSTR                     lpServiceName;&#8203;
           LPSTR                     lpDisplayName;&#8203;
           SERVICE_STATUS_PROCESS    ServiceStatusProcess;&#8203;
       } ENUM_SERVICE_STATUS_PROCESSA, *LPENUM_SERVICE_STATUS_PROCESSA;&#8203;
 &#8203;
       typedef struct _ENUM_SERVICE_STATUS_PROCESSW {&#8203;
           LPWSTR                    lpServiceName;&#8203;
           LPWSTR                    lpDisplayName;&#8203;
           SERVICE_STATUS_PROCESS    ServiceStatusProcess;&#8203;
 }   ENUM_SERVICE_STATUS_PROCESSW, *LPENUM_SERVICE_STATUS_PROCESSW;&#8203;
       typedef struct _SERVICE_DESCRIPTION_WOW64&#8203;
       {&#8203;
           DWORD    dwDescriptionOffset;&#8203;
       } SERVICE_DESCRIPTION_WOW64, *LPSERVICE_DESCRIPTION_WOW64;&#8203;
 &#8203;
       typedef struct _SERVICE_FAILURE_ACTIONS_WOW64&#8203;
       {&#8203;
           DWORD    dwResetPeriod;&#8203;
           DWORD    dwRebootMsgOffset;&#8203;
           DWORD    dwCommandOffset;&#8203;
           DWORD    cActions;&#8203;
           DWORD    dwsaActionsOffset;&#8203;
       } SERVICE_FAILURE_ACTIONS_WOW64, *LPSERVICE_FAILURE_ACTIONS_WOW64;&#8203;
 &#8203;
       typedef struct _SERVICE_REQUIRED_PRIVILEGES_INFO_WOW64&#8203;
       {&#8203;
           DWORD    dwRequiredPrivilegesOffset;&#8203;
       } SERVICE_REQUIRED_PRIVILEGES_INFO_WOW64,   *LPSERVICE_REQUIRED_PRIVILEGES_INFO_WOW64;&#8203;
 &#8203;
 DWORD&#8203;
 RCloseServiceHandle(&#8203;
       [in,out] LPSC_RPC_HANDLE  hSCObject&#8203;
       );&#8203;
  
 ...
  
 DWORD
 RCreateWowService(&#8203;
       [in]        SC_RPC_HANDLE       hSCManager,&#8203;
       [in,string,range(0, SC_MAX_NAME_LENGTH)]&#8203;
                   wchar_t *           lpServiceName,&#8203;
       [in,string,unique,range(0, SC_MAX_NAME_LENGTH)]&#8203;
                   wchar_t *           lpDisplayName,&#8203;
       [in]        DWORD               dwDesiredAccess,&#8203;
       [in]        DWORD               dwServiceType,&#8203;
       [in]        DWORD               dwStartType,&#8203;
       [in]        DWORD               dwErrorControl,&#8203;
       [in,string,range(0, SC_MAX_PATH_LENGTH)]&#8203;
                   wchar_t *           lpBinaryPathName,&#8203;
       [in,string,unique,range(0, SC_MAX_NAME_LENGTH)]&#8203;
                   wchar_t *           lpLoadOrderGroup,&#8203;
       [in,out,unique]&#8203;
                   LPDWORD             lpdwTagId,&#8203;
       [in,unique,size_is(dwDependSize)]&#8203;
                   LPBYTE              lpDependencies,&#8203;
       [in, range (0, SC_MAX_DEPEND_SIZE)]&#8203;
                   DWORD               dwDependSize,&#8203;
       [in,string,unique,range(0, SC_MAX_ACCOUNT_NAME_LENGTH)]&#8203;
                   wchar_t *           lpServiceStartName,&#8203;
       [in,unique,size_is(dwPwSize)]&#8203;
                   LPBYTE              lpPassword,&#8203;
       [in, range(0, SC_MAX_PWD_SIZE)]&#8203;
                   DWORD               dwPwSize,&#8203;
       [in]        USHORT              dwServiceWowType,&#8203;
       [out]       LPSC_RPC_HANDLE     lpServiceHandle&#8203;
       );&#8203;
 &#8203;
 DWORD&#8203;
 ROpenSCManager2(&#8203;
        [in] handle_t BindingHandle,&#8203;
        [in,string,unique,range(0, SC_MAX_NAME_LENGTH)]&#8203;
            wchar_t *DatabaseName,&#8203;
        [in] DWORD DesiredAccess,&#8203;
        [out] LPSC_RPC_HANDLE ScmHandle&#8203;
       );&#8203;
</pre></div>
</dd></dl>
  </td>
 </tr><tr>
  <td>
  <p>2019/08/05</p>
  </td>
  <td>
  <p>In Section 2.2.1, SECURITY_INFORMATION, a definition
  has been added to the table for LABEL_SECURITY_INFORMATION.</p>
  <p> </p>
  <p>Changed from:</p>
  <p> </p>
  <table><thead>
    <tr>
     <th>
     <p>Value</p>
     </th>
     <th>
     <p>Meaning</p>
     </th>
    </tr>
   </thead><tbody><tr>
    <td>
    <p>DACL_SECURITY_INFORMATION 0x00000004</p>
    </td>
    <td>
    <p>If set, the security descriptor MUST include the
    object's discretionary access control list (DACL). DACL information is
    specified in [MS-AZOD] section 1.1.1.3.</p>
    </td>
   </tr><tr>
    <td>
    <p>GROUP_SECURITY_INFORMATION 0x00000002</p>
    </td>
    <td>
    <p>If set, specifies the security identifier (SID), as
    defined in [MS-DTYP] section 2.4.2, (LSAPR_SID) of the object's primary
    group. Primary group information is specified in [MS-DTYP].</p>
    </td>
   </tr><tr>
    <td>
    <p>OWNER_SECURITY_INFORMATION 0x00000001</p>
    </td>
    <td>
    <p>If set, specifies the security identifier (SID)
    (LSAPR_SID) of the object's owner.</p>
    </td>
   </tr><tr>
    <td>
    <p>SACL_SECURITY_INFORMATION 0x00000008</p>
    </td>
    <td>
    <p>If set, the security descriptor MUST include the
    object's system access control list (SACL). SACL information is specified
    in [MS-AZOD] section 1.1.1.3.</p>
    </td>
   </tr></tbody></table>
  <p> </p>
  <p>Changed to:</p>
  <p> </p>
  <table><thead>
    <tr>
     <th>
     <p>Value</p>
     </th>
     <th>
     <p>Meaning</p>
     </th>
    </tr>
   </thead><tbody><tr>
    <td>
    <p>DACL_SECURITY_INFORMATION 0x00000004</p>
    </td>
    <td>
    <p>If set, the security descriptor MUST include the
    object's discretionary access control list (DACL). DACL information is
    specified in [MS-AZOD] section 1.1.1.3.</p>
    </td>
   </tr><tr>
    <td>
    <p>GROUP_SECURITY_INFORMATION 0x00000002</p>
    </td>
    <td>
    <p>If set, specifies the security identifier (SID), as
    defined in [MS-DTYP] section 2.4.2, (LSAPR_SID) of the object's primary
    group. Primary group information is specified in [MS-DTYP].</p>
    </td>
   </tr><tr>
    <td>
    <p>OWNER_SECURITY_INFORMATION 0x00000001</p>
    </td>
    <td>
    <p>If set, specifies the security identifier (SID)
    (LSAPR_SID) of the object's owner.</p>
    </td>
   </tr><tr>
    <td>
    <p>SACL_SECURITY_INFORMATION 0x00000008</p>
    </td>
    <td>
    <p>If set, the security descriptor MUST include the
    object's system access control list (SACL). SACL information is specified
    in [MS-AZOD] section 1.1.1.3.</p>
    </td>
   </tr><tr>
    <td>
    <p>LABEL_SECURITY_INFORMATION<br><br></p>
    <p>0x00000010</p>
    </td>
    <td>
    <p>If set, specifies the mandatory integrity label. The
    mandatory integrity label is an ACE in the SACL of the object.</p>
    </td>
   </tr></tbody></table>
  <p> </p>
  <p> </p>
  </td>
 </tr></tbody></table>

<p>*Date format: YYYY/MM/DD</p>


                